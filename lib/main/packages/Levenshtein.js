"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return call&&("object"===_typeof(call)||"function"==typeof call)?call:_assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var Similarity=require("../interface/Similarity");module.exports=/*#__PURE__*/function(_Similarity){function Levenshtein(){return _classCallCheck(this,Levenshtein),_possibleConstructorReturn(this,_getPrototypeOf(Levenshtein).call(this))}return _inherits(Levenshtein,_Similarity),_createClass(Levenshtein,[{key:"similarity",value:function similarity(thanos,rival){return Similarity.checkThanosType(thanos),Similarity.checkRivalType(rival),thanos=Similarity.initParams(thanos,rival)[0],rival=Similarity.initParams(thanos,rival)[1],thanos.length||rival.length?1-1*this.distance(thanos,rival)/Math.max(thanos.length,rival.length):1}// edit distance
},{key:"distance",value:function distance(thanos,rival){if(Similarity.checkThanosType(thanos),Similarity.checkRivalType(rival),thanos=Similarity.initParams(thanos,rival)[0],rival=Similarity.initParams(thanos,rival)[1],thanos===rival)return 0;var _ref=[thanos.length,rival.length],len1=_ref[0],len2=_ref[1];if(!len1)return len2;if(!len2)return len1;// init array
for(var dynamicArray=_toConsumableArray(Array(len1+1)).map(function(){return Array(len2+1).fill(0)}),i=0;i<=len1;++i)dynamicArray[i][0]=i;for(var j=0;j<=len2;++j)dynamicArray[0][j]=j;for(var temp,_i=1;_i<=len1;++_i)for(var _j=1;_j<=len2;++_j)// delete  insert  replace
temp=thanos[_i-1]===rival[_j-1]?0:1,dynamicArray[_i][_j]=Math.min(dynamicArray[_i-1][_j]+1,dynamicArray[_i][_j-1]+1,dynamicArray[_i-1][_j-1]+temp);return dynamicArray[len1][len2]}}]),Levenshtein}(Similarity);